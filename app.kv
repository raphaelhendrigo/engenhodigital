#:import dp kivy.metrics.dp
#:set bg_color 0.06, 0.09, 0.13, 1
#:set header_color 0.09, 0.14, 0.20, 1
#:set card_color 0.14, 0.18, 0.24, 1
#:set accent_color 0.98, 0.58, 0.18, 1
#:set text_color 0.95, 0.96, 0.98, 1
#:set muted_color 0.74, 0.79, 0.86, 1

<NavButton@Button>:
    target: ""
    current_screen: ""
    size_hint: None, None
    width: dp(120)
    height: dp(34)
    background_normal: ""
    background_down: ""
    background_color: 0, 0, 0, 0
    color: text_color
    bold: True
    font_size: "12sp"
    text_size: self.width - dp(10), None
    halign: "center"
    valign: "middle"
    canvas.before:
        Color:
            rgba: accent_color if root.target == root.current_screen else card_color
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [dp(10)]
    on_release: app.go(root.target)

<PrimaryButton@Button>:
    size_hint_y: None
    height: dp(46)
    background_normal: ""
    background_down: ""
    background_color: 0, 0, 0, 0
    color: (0.06, 0.09, 0.13, 1)
    bold: True
    font_size: "15sp"
    canvas.before:
        Color:
            rgba: accent_color
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [dp(12)]

<GhostButton@Button>:
    size_hint_y: None
    height: dp(46)
    background_normal: ""
    background_down: ""
    background_color: 0, 0, 0, 0
    color: text_color
    font_size: "15sp"
    canvas.before:
        Color:
            rgba: card_color
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [dp(12)]

<SectionTitle@Label>:
    color: text_color
    bold: True
    font_size: "24sp"
    text_size: self.width, None
    halign: "left"
    valign: "middle"
    size_hint_y: None
    height: self.texture_size[1]

<BodyText@Label>:
    color: muted_color
    font_size: "15sp"
    text_size: self.width, None
    halign: "left"
    valign: "top"
    size_hint_y: None
    height: self.texture_size[1]

<InfoCard@BoxLayout>:
    title: ""
    body: ""
    orientation: "vertical"
    padding: dp(14)
    spacing: dp(8)
    size_hint_y: None
    height: self.minimum_height
    canvas.before:
        Color:
            rgba: card_color
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [dp(12)]
    Label:
        text: root.title
        color: text_color
        bold: True
        font_size: "18sp"
        text_size: self.width, None
        halign: "left"
        valign: "middle"
        size_hint_y: None
        height: self.texture_size[1]
    Label:
        text: root.body
        color: muted_color
        font_size: "14sp"
        text_size: self.width, None
        halign: "left"
        valign: "top"
        size_hint_y: None
        height: self.texture_size[1]

<DetailCard@BoxLayout>:
    heading: ""
    summary: ""
    bullet1: ""
    bullet2: ""
    bullet3: ""
    orientation: "vertical"
    padding: dp(14)
    spacing: dp(6)
    size_hint_y: None
    height: self.minimum_height
    canvas.before:
        Color:
            rgba: card_color
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [dp(12)]
    Label:
        text: root.heading
        color: accent_color
        bold: True
        font_size: "14sp"
        text_size: self.width, None
        halign: "left"
        valign: "middle"
        size_hint_y: None
        height: self.texture_size[1]
    Label:
        text: root.summary
        color: text_color
        font_size: "15sp"
        text_size: self.width, None
        halign: "left"
        valign: "top"
        size_hint_y: None
        height: self.texture_size[1]
    Label:
        text: "- " + root.bullet1
        color: muted_color
        font_size: "13sp"
        text_size: self.width, None
        halign: "left"
        valign: "top"
        size_hint_y: None
        height: self.texture_size[1]
    Label:
        text: "- " + root.bullet2
        color: muted_color
        font_size: "13sp"
        text_size: self.width, None
        halign: "left"
        valign: "top"
        size_hint_y: None
        height: self.texture_size[1]
    Label:
        text: "- " + root.bullet3
        color: muted_color
        font_size: "13sp"
        text_size: self.width, None
        halign: "left"
        valign: "top"
        size_hint_y: None
        height: self.texture_size[1]

<ScreenHeader@BoxLayout>:
    current_screen: ""
    orientation: "vertical"
    size_hint_y: None
    height: dp(112)
    spacing: dp(8)
    padding: dp(10), dp(8)
    canvas.before:
        Color:
            rgba: header_color
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        size_hint_y: None
        height: dp(36)
        spacing: dp(10)
        Image:
            source: app.logo_source
            size_hint: None, None
            size: dp(36), dp(36)
        BoxLayout:
            orientation: "vertical"
            spacing: dp(2)
            Label:
                text: "Engenho Digital"
                color: text_color
                bold: True
                font_size: "18sp"
                text_size: self.width, None
                halign: "left"
                valign: "middle"
            Label:
                text: "Projetos & Sistemas"
                color: muted_color
                font_size: "12sp"
                text_size: self.width, None
                halign: "left"
                valign: "middle"
    ScrollView:
        do_scroll_y: False
        bar_width: 0
        BoxLayout:
            size_hint_x: None
            width: self.minimum_width
            height: dp(36)
            spacing: dp(8)
            NavButton:
                text: "Inicio"
                target: "inicio"
                current_screen: root.current_screen
            NavButton:
                text: "Servicos"
                target: "servicos"
                current_screen: root.current_screen
            NavButton:
                text: "Equipe"
                target: "equipe"
                current_screen: root.current_screen
            NavButton:
                text: "Contato"
                target: "contato"
                current_screen: root.current_screen

<InicioScreen@Screen>:
    name: "inicio"
    BoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: bg_color
            Rectangle:
                pos: self.pos
                size: self.size
        ScreenHeader:
            current_screen: "inicio"
        ScrollView:
            do_scroll_x: False
            BoxLayout:
                orientation: "vertical"
                padding: dp(16)
                spacing: dp(14)
                size_hint_y: None
                height: self.minimum_height
                SectionTitle:
                    text: "Engenharia de software & projetos eletricos"
                BodyText:
                    text: "Solucoes digitais e eletricas para tirar seus projetos do papel."
                BodyText:
                    text: "A Engenho Digital integra desenvolvimento de softwares sob medida, projetos eletricos em CAD/CAM e automacao de processos. Combinamos engenharia, dados e experiencia em campo para entregar solucoes enxutas, modernas e prontas para producao."
                BoxLayout:
                    size_hint_y: None
                    height: dp(46)
                    spacing: dp(10)
                    PrimaryButton:
                        text: "Agendar conversa tecnica"
                        on_release: app.go("contato")
                    GhostButton:
                        text: "Ver servicos"
                        on_release: app.go("servicos")
                InfoCard:
                    title: "+10 anos com tecnologia"
                    body: "Experiencia full-stack em web, APIs, dados e projetos tecnicos."
                InfoCard:
                    title: "Full-stack"
                    body: "Desenvolvimento de sistemas web, integracoes e automacao de processos."
                InfoCard:
                    title: "CAD/CAM"
                    body: "Projetos eletricos detalhados para obras, industrias e escritorios."

<ServicosScreen@Screen>:
    name: "servicos"
    BoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: bg_color
            Rectangle:
                pos: self.pos
                size: self.size
        ScreenHeader:
            current_screen: "servicos"
        ScrollView:
            do_scroll_x: False
            BoxLayout:
                orientation: "vertical"
                padding: dp(16)
                spacing: dp(12)
                size_hint_y: None
                height: self.minimum_height
                SectionTitle:
                    text: "O que fazemos"
                BodyText:
                    text: "Servicos que conectam engenharia, software e dados, do estudo de viabilidade ate a entrega em producao."
                DetailCard:
                    heading: "1) Software sob medida"
                    summary: "Sistemas web em Flask, React e cloud, focados em automacao, dashboards e integracoes."
                    bullet1: "Sistemas internos e portais web"
                    bullet2: "Dashboards para indicadores de gestao"
                    bullet3: "Integracao com servicos em nuvem e APIs"
                DetailCard:
                    heading: "2) Projetos eletricos CAD/CAM"
                    summary: "Plantas, diagramas, quadros e detalhamento tecnico para obras e industrias."
                    bullet1: "Diagramas unifilares e trifilares"
                    bullet2: "Layouts de iluminacao e tomadas"
                    bullet3: "Quadros de cargas e listas de materiais"
                DetailCard:
                    heading: "3) Consultoria em dados e automacao"
                    summary: "Uso inteligente de dados para reduzir retrabalho e dar previsibilidade ao processo."
                    bullet1: "Rotinas ETL/ELT para planilhas e bancos"
                    bullet2: "Automacao de relatorios tecnicos e laudos"
                    bullet3: "Suporte em IA aplicada ao negocio"

<EquipeScreen@Screen>:
    name: "equipe"
    BoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: bg_color
            Rectangle:
                pos: self.pos
                size: self.size
        ScreenHeader:
            current_screen: "equipe"
        ScrollView:
            do_scroll_x: False
            BoxLayout:
                orientation: "vertical"
                padding: dp(16)
                spacing: dp(12)
                size_hint_y: None
                height: self.minimum_height
                SectionTitle:
                    text: "Quem assina os projetos"
                DetailCard:
                    heading: "Engenharia & Dados"
                    summary: "Raphael Hendrigo de Souza Goncalves"
                    bullet1: "Engenheiro de Computacao, Eletricista e de Alimentos"
                    bullet2: "Lideranca tecnica em solucoes web, automacao e analytics"
                    bullet3: "Pos-graduando no MBA de Ciencia de Dados do USP ICMC"
                DetailCard:
                    heading: "Projetos Eletricos & CAD/CAM"
                    summary: "Edgar de Almeida"
                    bullet1: "Especialista em CAD, modelagem 2D/3D e detalhamento executivo"
                    bullet2: "Experiencia em diagramas, quadros de cargas e materiais"
                    bullet3: "Foco em conformidade tecnica e eficiencia energetica"
                SectionTitle:
                    text: "Projetos em destaque"
                DetailCard:
                    heading: "Software · Gestao"
                    summary: "Portal de Automacao de Processos Internos em Python/Flask integrado a nuvem."
                    bullet1: "Reducao de retrabalho operacional"
                    bullet2: "Historico completo e rastreabilidade"
                    bullet3: "Exportacao de relatorios em poucos cliques"
                DetailCard:
                    heading: "Eletrica · CAD/CAM"
                    summary: "Projeto eletrico de escritorio corporativo com foco em seguranca e eficiencia."
                    bullet1: "Layout em CAD com revisoes controladas"
                    bullet2: "Documentacao pronta para aprovacao"
                    bullet3: "Lista de materiais por ambiente"
                DetailCard:
                    heading: "Dados · Automacao"
                    summary: "Monitoramento de indicadores tecnicos com pipeline e painel unico."
                    bullet1: "Integracao de multiplas fontes"
                    bullet2: "Atualizacao automatica de metricas"
                    bullet3: "Visualizacao clara para times tecnicos e gestores"

<ContactScreen@Screen>:
    name: "contato"
    BoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: bg_color
            Rectangle:
                pos: self.pos
                size: self.size
        ScreenHeader:
            current_screen: "contato"
        ScrollView:
            do_scroll_x: False
            BoxLayout:
                orientation: "vertical"
                padding: dp(16)
                spacing: dp(12)
                size_hint_y: None
                height: self.minimum_height
                SectionTitle:
                    text: "Vamos tirar seu projeto do papel?"
                BodyText:
                    text: "Envie um resumo da sua necessidade em software ou projeto eletrico e retornaremos com uma proposta tecnica e prazos estimados."
                InfoCard:
                    title: "Canais de contato"
                    body: "E-mail: contato@engenhodigitalweb.com.br\nWhatsApp: (coloque aqui o numero oficial da empresa)"
                PrimaryButton:
                    text: "Abrir site oficial"
                    on_release: app.open_url(app.website_url)
                GhostButton:
                    text: "Enviar e-mail"
                    on_release: app.open_email()
                GhostButton:
                    text: "Falar no WhatsApp"
                    on_release: app.open_whatsapp()
                GhostButton:
                    text: "Politica de privacidade"
                    on_release: app.open_url(app.privacy_policy_url)
                BodyText:
                    text: "© 2025 Engenho Digital Projetos & Sistemas. Todos os direitos reservados."
                BodyText:
                    text: "Site desenvolvido em Flask + Tailwind CSS e preparado para deploy no Google Cloud Platform."

ScreenManager:
    InicioScreen:
    ServicosScreen:
    EquipeScreen:
    ContactScreen:
